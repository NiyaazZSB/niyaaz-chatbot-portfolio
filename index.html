<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niyaaz Portfolio Bot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .header h1 {
            margin-bottom: 15px;
            font-size: 2.2em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            opacity: 0.95;
            font-size: 16px;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
            position: relative;
            z-index: 1;
        }
        .stats-container {
            background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
            border-bottom: 1px solid #e0e0e0;
        }

        .stats-toggle {
            width: 100%;
            padding: 12px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .stats-toggle:hover {
            background: rgba(0,123,255,0.1);
            color: #007bff;
        }

        .stats-content {
            padding: 15px 20px;
            display: flex;
            gap: 30px;
            justify-content: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            display: block;
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            display: block;
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
        }

        .chat-container {
            height: 450px;
            overflow-y: auto;
            padding: 25px;
            background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
            scroll-behavior: smooth;
        }

       .message {
            margin-bottom: 18px;
            max-width: 85%;
            word-wrap: break-word;
            animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            font-size: 15px;
            line-height: 1.5;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .message-content {
            flex: 1;
            padding: 12px 18px;
            border-radius: 18px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

       .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            flex-shrink: 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            border: 2px solid white;
        }

        .user-message {
            margin-left: auto;
            text-align: right;
            flex-direction: row-reverse;
        }

        .user-message .message-content {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .user-message .message-avatar {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
        }

        .bot-message {
            margin-right: auto;
        }

        .bot-message .message-content {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 1px solid #dee2e6;
            border-bottom-left-radius: 4px;
            color: #495057;
        }

        .bot-message .message-avatar {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            color: white;
        }

      

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

       .input-container {
            padding: 25px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 12px;
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
        }

        .input-container input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            outline: none;
            font-size: 15px;
            transition: all 0.3s ease;
            background: white;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
        }

        .input-container button {
            padding: 12px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
        }

        .input-container input:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }

        .input-container button {
            padding: 15px 25px;
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        }

        .input-container button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,123,255,0.4);
        }

        .suggestions {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }

        .suggestion-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 1px solid #dee2e6;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
            white-space: nowrap;
        }

        .suggestion-btn:hover {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        }

        .link {
            color: #007bff;
            text-decoration: underline;
            cursor: pointer;
        }

        .typing-animation {
            display: inline-flex;
            gap: 4px;
            margin-right: 8px;
            align-items: center;
        }

        .typing-animation span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #007bff;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-animation span:nth-child(2) { 
            animation-delay: 0.2s; 
        }
        .typing-animation span:nth-child(3) { 
            animation-delay: 0.4s; 
        }

        @keyframes typing {
            0%, 60%, 100% { 
                transform: translateY(0);
                opacity: 0.4;
            }
            30% { 
                transform: translateY(-10px);
                opacity: 1;
            }
        }
        .theme-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 2;
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        .dark-mode .container {
            background: #2d2d2d;
            color: #e0e0e0;
        }

        .dark-mode .chat-container {
            background: #2a2a2a;
        }

        .dark-mode .bot-message {
            background: #404040;
            border-color: #555;
            color: #e0e0e0;
        }

        .dark-mode .input-container {
            background: #2d2d2d;
            border-color: #555;
        }

        .dark-mode .suggestions {
            background: #333;
        }

        .dark-mode .suggestion-btn {
            background: #404040;
            border-color: #555;
            color: #e0e0e0;
        }
        
        
    </style>

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Niyaaz Portfolio Bot</h1>
            <p>Ask me anything about Mogamat Niyaaz Anthony's portfolio, education, skills, projects, and certifications!</p>
            <button id="themeToggle" class="theme-toggle">🌙</button>
        </div>

        <div class="stats-container">
            <button class="stats-toggle" onclick="toggleStats()">📊 Chat Statistics</button>
            <div class="stats-content" id="statsContent" style="display: none;">
                <div class="stat-item">
                    <span class="stat-label">Messages:</span>
                    <span class="stat-value" id="messageCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Session:</span>
                    <span class="stat-value" id="sessionTime">0:00</span>
                </div>
            </div>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <div class="message bot-message">
                Hello! This chatbot is here to assist you with any questions regarding Mogamat Niyaaz Anthony's portfolio, including his education, skills, projects, and certifications. If you have inquiries related to his journey in the tech industry, feel free to ask! For any information outside of this portfolio, please contact him directly.
            </div>
        </div>

        <div class="suggestions">
            <div class="suggestion-btn" onclick="sendSuggestion('Tell me about his journey')">Tell me about his journey</div>
            <div class="suggestion-btn" onclick="sendSuggestion('What are his skills?')">What are his skills?</div>
            <div class="suggestion-btn" onclick="sendSuggestion('Tell me about his education')">Tell me about his education</div>
            <div class="suggestion-btn" onclick="sendSuggestion('What projects has he worked on?')">What projects has he worked on?</div>
            <div class="suggestion-btn" onclick="sendSuggestion('What are his certifications?')">What are his certifications?</div>
            <div class="suggestion-btn" onclick="sendSuggestion('What is his contact information?')">Contact information</div>
            <div class="suggestion-btn" onclick="sendSuggestion('Give me a summary of everything about Niyaaz')">Complete summary</div>
        </div>
        <!-- Add this right after the suggestions div -->
        <div style="text-align: center; padding: 5px 0; background: inherit;">
            <button onclick="refreshSuggestions()" style="background: none; border: none; color: #6c757d; font-size: 12px; cursor: pointer; padding: 5px 10px; border-radius: 15px; transition: all 0.3s ease;">
                🔄 Refresh suggestions
            </button>
        </div>

        <div class="input-container">
            <input type="text" id="userInput" placeholder="Ask me about Niyaaz's portfolio..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        const chatContainer = document.getElementById('chatContainer');
        const userInput = document.getElementById('userInput');

        const portfolioData = {
            journey: "Mogamat Niyaaz Anthony's journey in the tech industry has been quite remarkable. Here is a summary of his journey:\n\nFebruary 10, 2024: Niyaaz was completing his BSc in Computer Science at the University of the Western Cape (UWC), Cape Town, South Africa.\n\nApril 16, 2025: He graduated with a BSc in Computer Science from UWC.\n\nApril 29, 2025: Niyaaz was selected for the CAPACITI Demand Academy 2 Programme Learnership, marking a new beginning in his professional journey.\n\nPresent: He is currently enrolled in a Learnership programme at Capaciti, focusing on Data Analytics. This programme is set to conclude on March 31, 2026. During this time, he is developing skills in data analysis, visualization, and AI technologies while working on real-world projects.\n\nNiyaaz is passionate about the tech industry and is committed to continuous learning and growth in areas such as AI and Data Analytics.",

            about: "Mogamat Niyaaz Anthony, commonly known as Niyaaz, is a dedicated Data Analytics and AI enthusiast. He is currently participating in a Learnership programme at Capaciti's Cape Town branch, where he has chosen Data Analytics as his main stream. This programme is set to conclude on March 31, 2026.\n\nNiyaaz has a strong passion for the tech industry and is committed to building versatile experience in AI, Data Analysis, and beyond. He approaches challenges with an open mind and values collaboration, embracing teamwork and humility as essential components for growth.\n\nHe believes that success is about achieving goals while positively impacting others. Although he describes himself as reserved, his confidence and dedication have led him to meaningful accomplishments. Niyaaz tackles obstacles head-on with resilience and purpose.\n\nHis career goal is to develop strong professional skills in the tech industry while advancing his expertise in AI and Data Analytics, ultimately aiming to become a skilled professional in the field.",

            contact: "Mogamat Niyaaz Anthony can be contacted via the following details:\n\nEmail: <a href='mailto:niyaaz2001@gmail.com' class='link'>niyaaz2001@gmail.com</a>\nPhone: <a href='tel:+27794447897' class='link'>0794447897</a>\nLocation: 7800, Cape Town, South Africa\n\nFeel free to reach out to him for any work opportunities or questions!",

            location: "Mogamat Niyaaz Anthony is from Cape Town, South Africa.",

            projects: "Mogamat Niyaaz Anthony has worked on several projects that demonstrate his skills and interests in the tech industry, particularly in AI and Data Analytics. One notable project is:\n\nAI Portfolio Chatbot: Niyaaz created an AI chatbot using HTML, CSS and JavaScript that allows users to navigate through his portfolio and ask questions about his journey, skills, and experiences. YOU USING ME RIGHT NOW!!!\n\nFor more details about his projects and to explore them further, please contact him directly.",

            education: "Mogamat Niyaaz Anthony has completed the following educational milestones:\n\nBSc in Computer Science: He graduated from the University of the Western Cape (UWC), Cape Town, South Africa, on April 16, 2025.\n\nYou can download his completion letter here: <a href='https://drive.google.com/file/d/1VklbzBEw_wdYP4wwXUm5TF8C_UxCk-hI/view?usp=drive_link' target='_blank' class='link'>Download Completion Letter</a>\n\nThis educational background has provided him with a strong foundation in computer science principles, which he is building upon through his current Learnership programme in Data Analytics at Capaciti.",

            workExperience: "Mogamat Niyaaz Anthony has the following work experience:\n\nData Analytics Stream - Learnership Programme:\nCompany: Capaciti\nDuration: April 2025 - Present\nDetails: Niyaaz is currently participating in a Learnership programme at Capaciti in the Data Analytics stream of their Demand Academy 2 Programme at their Cape Town branch. He is developing skills in data analysis, visualization, and AI technologies while working on real-world projects. This programme is set to conclude on March 31, 2026.\n\nCustomer Service Associate:\nVarious Retail & Service Companies\nDuration: 2021 - 2024\nDetails: In this role, Niyaaz provided excellent customer service across multiple organizations, including Mr Price Sports, Kauai, and Orisons Activation and Marketing. He developed strong communication skills, problem-solving abilities, and experience in handling customer interactions in various environments.\n\nThis blend of experiences highlights his ability to work in both technical and customer-facing roles.",

            certificates: "Mogamat Niyaaz Anthony has obtained several certificates that enhance his expertise in AI and Data Analytics. The certificates include:\n\nAI Essentials\nProvider: Intel (via Coursera)\nDate: May 15, 2025\n<a href='https://drive.google.com/file/d/1KNOlHDQ2Jz8gp4DZVTqo4DsmDS4v_DWP/view?usp=drive_link' target='_blank' class='link'>View Certificate</a>\n\nIntroduction to Generative AI\nProvider: Google Cloud (via Coursera)\nDate: May 14, 2025\n<a href='https://drive.google.com/file/d/16rsV4Vb6fup03fh0kzb2DxaHqLgzCCCn/view?usp=drive_link' target='_blank' class='link'>View Certificate</a>\n\nIntroduction to Artificial Intelligence (AI)\nProvider: IBM (via Coursera)\nDate: May 12, 2025\n<a href='https://drive.google.com/file/d/1Lhd19nj0kTtAK4iDBGzIYq729fwS5SeA/view?usp=drive_link' target='_blank' class='link'>View Certificate</a>\n\nAI For Everyone\nProvider: DeepLearning.AI (via Coursera)\nDate: May 12, 2025\n<a href='https://drive.google.com/file/d/1uq-0SWzRBmemSgsjA6CIvGRnIQqZe78o/view?usp=drive_link' target='_blank' class='link'>View Certificate</a>\n\nThese certificates reflect his commitment to continuous learning and growth in the fields of AI and Data Analytics.",

            skills: "Mogamat Niyaaz Anthony has developed a comprehensive set of skills throughout his education and experience. These skills can be categorized into technical and professional skills:\n\nTechnical Skills:\nProgramming Languages: Java, Python, C, HTML, CSS, JavaScript\nSoftware & Tools: Windows, GitHub, Visual Studio Code, JetBrains, Wireshark, Scikit-learn, Pandas, Jupyter Notebook\n\nProfessional Skills:\nMathematical Problem Solving, Data Analysis, Team Collaboration, Critical Thinking, Adaptability\n\nKey Strengths:\nMathematically Inclined, Problem Solver, Fast Learner, Detail Oriented, Analytical Thinker, Resilient, Collaborative, Open-minded\n\nThese skills reflect his versatility and dedication to continuous learning in the fields of AI and Data Analytics.",

            cv: "You can download Niyaaz's complete CV here: <a href='https://drive.google.com/file/d/1Nn4gF4Ftioy2S6NxqCZAP614cnc8KL4y/view?usp=drive_link' target='_blank' class='link'>Download CV</a>",

            summary: "Here is a comprehensive summary of Mogamat Niyaaz Anthony:\n\nFull Name: Mogamat Niyaaz Anthony\nLocation: Cape Town, South Africa\n\nEducation:\nBSc in Computer Science from University of the Western Cape (UWC)\nCompletion Date: April 16, 2025\n\nCurrent Work:\nData Analytics Stream - Learnership Programme at Capaciti (April 2025 - Present)\nDeveloping skills in data analysis, visualization, and AI technologies in a programme set to conclude on March 31, 2026.\n\nPrevious Work Experience:\nCustomer Service Associate at Various Retail & Service Companies (2021 - 2024)\n\nSkills:\nTechnical: Java, Python, C, HTML, CSS, JavaScript, GitHub, Visual Studio Code, Scikit-learn, Pandas, Jupyter Notebook\nProfessional: Mathematical problem solving, data analysis, team collaboration, critical thinking, adaptability\nKey Strengths: Problem solver, fast learner, detail-oriented, analytical thinker, resilient, collaborative\n\nCertifications:\n• AI Essentials - Intel (May 15, 2025)\n• Introduction to Generative AI - Google Cloud (May 14, 2025)\n• Introduction to Artificial Intelligence (AI) - IBM (May 12, 2025)\n• AI For Everyone - DeepLearning.AI (May 12, 2025)\n\nProjects:\nAI Portfolio Chatbot developed to help users navigate his portfolio\n\nContact Information:\nEmail: niyaaz2001@gmail.com\nPhone: 0794447897\n\nPersonal Philosophy:\nNiyaaz is passionate about the tech industry and committed to continuous learning in AI and Data Analytics. He believes success is about achieving goals while positively impacting others."
        };

        // Add after portfolioData object
        let askedQuestions = new Set();
        let questionCount = 0;

        const allSuggestions = [
            'Tell me about his journey',
            'What are his skills?',
            'Tell me about his education',
            'What projects has he worked on?',
            'What are his certifications?',
            'What is his contact information?',
            'Give me a summary of everything about Niyaaz',
            'What is his work experience?',
            'Where is he located?',
            'What is his full name?',
            'Show me his CV'
        ];

        function updateSuggestions() {
            const suggestionsContainer = document.querySelector('.suggestions');
            
            // Get all available suggestions that haven't been asked
            const availableSuggestions = allSuggestions.filter(s => !askedQuestions.has(s.toLowerCase()));
            
            let suggestionsToShow = [];
            
            if (availableSuggestions.length >= 4) {
                // Shuffle and pick 4 random unasked questions
                const shuffled = [...availableSuggestions].sort(() => Math.random() - 0.5);
                suggestionsToShow = shuffled.slice(0, 4);
            } else if (availableSuggestions.length > 0) {
                // Show remaining unasked questions
                suggestionsToShow = availableSuggestions;
            } else {
                // All questions asked - show a fresh set (reset the tracking)
                askedQuestions.clear();
                const shuffled = [...allSuggestions].sort(() => Math.random() - 0.5);
                suggestionsToShow = shuffled.slice(0, 4);
            }

            // Render suggestions (remove the history part)
            suggestionsContainer.innerHTML = suggestionsToShow.map(suggestion => 
                `<div class="suggestion-btn" onclick="sendSuggestion('${suggestion}')">${suggestion}</div>`
            ).join('');
        }
        function refreshSuggestions() {
            updateSuggestions();
            
            // Add a subtle animation
            const container = document.querySelector('.suggestions');
            container.style.opacity = '0.7';
            setTimeout(() => {
                container.style.opacity = '1';
            }, 150);
        }

        

        // Chat statistics
        let chatStats = {
            messageCount: 0,
            startTime: Date.now()
        };

        function toggleStats() {
            const statsContent = document.getElementById('statsContent');
            const isVisible = statsContent.style.display !== 'none';
            statsContent.style.display = isVisible ? 'none' : 'block';
        }

        function updateStats() {
            document.getElementById('messageCount').textContent = chatStats.messageCount;
            
            const elapsed = Date.now() - chatStats.startTime;
            const minutes = Math.floor(elapsed / 60000);
            const seconds = Math.floor((elapsed % 60000) / 1000);
            document.getElementById('sessionTime').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // Update stats every second
        setInterval(updateStats, 1000);

        // Theme toggle functionality
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const themeToggle = document.getElementById('themeToggle');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.textContent = '☀️';
                localStorage.setItem('darkMode', 'true');
            } else {
                themeToggle.textContent = '🌙';
                localStorage.setItem('darkMode', 'false');
            }
        }

        // Initialize theme
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.addEventListener('click', toggleTheme);
            
            // Load saved theme
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                themeToggle.textContent = '☀️';
            }
        });
        

        function addMessage(message, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            
            // Check if message already contains HTML links
            let linkedMessage;
            if (message.includes('<a href=')) {
                linkedMessage = message;
            } else {
                linkedMessage = message.replace(
                    /(https?:\/\/[^\s]+)/g, 
                    '<a href="$1" target="_blank" class="link">$1</a>'
                );
            }
            
            // Create avatar and content elements
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.innerHTML = isUser ? '👨‍💼' : '🤖';
            
            const content = document.createElement('div');
            content.className = 'message-content';
            content.innerHTML = linkedMessage.replace(/\n/g, '<br>');
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        function showTyping() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message typing';
            typingDiv.innerHTML = `
                <div class="typing-animation">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <span class="typing-text">Niyaaz Portfolio Bot is thinking...</span>
            `;
            typingDiv.id = 'typing';
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function removeTyping() {
            const typing = document.getElementById('typing');
            if (typing) typing.remove();
        }

        // Enhanced intent detection with better pattern matching and additional variations

        function getBotResponse(userMessage) {
            const message = userMessage.toLowerCase().trim();
            
            // Helper function to check multiple patterns with context validation
            function matchesAny(patterns, requiredContext = null, excludedContext = null) {
                const hasMatch = patterns.some(pattern => {
                    if (typeof pattern === 'string') {
                        return message.includes(pattern);
                    } else if (pattern instanceof RegExp) {
                        return pattern.test(message);
                    }
                });
                
                if (!hasMatch) return false;
                
                // Check for required context
                if (requiredContext && !requiredContext.some(ctx => message.includes(ctx))) {
                    return false;
                }
                
                // Check for excluded context (questions that should NOT match)
                if (excludedContext && excludedContext.some(ctx => message.includes(ctx))) {
                    return false;
                }
                
                return true;
            }

            // Helper function to check if message is asking a specific type of question
            function isAskingAbout(questionTypes) {
                return questionTypes.some(type => {
                    const regex = new RegExp(`\\b${type}\\s+(is|was|are|were|does|do|did|has|have|can|could|will|would)\\b`, 'i');
                    return regex.test(message);
                });
            }

            // Add specific handling for inappropriate questions before other intents
            const inappropriatePatterns = [
                /\bwhen\s+(was|were)\s+(you|he|niyaaz)\s+born\b/,
                /\bhow\s+old\s+(are|is)\s+(you|he|niyaaz)\b/,
                /\bwhat\s+(is|was)\s+(your|his)\s+age\b/,
                /\bwhy\s+(is|was|are|were)\s+(you|he|niyaaz)\s+(born|made|created)\b/,
                /\bwhen\s+(did|do|does)\s+(you|he|niyaaz)\s+(die|pass\s+away)\b/,
                /\bhow\s+(did|do|does)\s+(you|he|niyaaz)\s+(die|pass\s+away)\b/
            ];

            if (matchesAny(inappropriatePatterns)) {
                return "I can help you with information about Mogamat Niyaaz Anthony's professional portfolio, including his education, skills, work experience, projects, and certifications. For personal details beyond what's in his professional profile, please contact him directly.";
            }
            const workExperiencePatterns = [
                'work experience', 'employment history', 'job history', 'career experience',
                'previous work', 'past work', 'job background', 'professional background',
                'employment record', 'job timeline', 'work profile', 'professional experience',
                'workplace experience', 'companies worked at', 'positions held', 'roles played',
                /\bwork\s+(experience|history|background|record)\b/,
                /\b(previous|past|prior)\s+(job|work|employment|role)\b/,
                /\bwhere\s+(do|did)\s+(you|he|niyaaz)\s+work\b/,
                /\bwhat\s+(job|work|position|role)\s+(do|did)\s+(you|he)\s+(have|do)\b/,
                /\bwhat\s+companies\s+(have\s+you|has\s+he)\s+worked\s+for\b/,
                /\btell\s+me\s+about\s+(your|his)\s+(work|job|employment)\b/
            ];

            const workExcluded = ['when', 'why', 'how old', 'age', 'born', 'birth'];
            
            if (matchesAny(workExperiencePatterns, null, workExcluded)) {
                return portfolioData.workExperience;
            }

            // Journey - Enhanced with story-telling variations and context validation
            const journeyPatterns = [
                'journey', 'story', 'path', 'professional journey', 'career path',
                'how did you start', 'how you got here', 'your development', 'your progress',
                'how you became', 'evolution', 'transformation', 'growth story',
                /\bhow\s+(did|do)\s+(you|he)\s+(start|begin|get\s+into)\b/,
                /\btell\s+me\s+(about\s+)?(your|his)\s+(story|journey|path)\b/,
                /\bwhat\s+(is|was)\s+(your|his)\s+(journey|path|story)\b/,
                /\bhow\s+did\s+(you|he)\s+(become|get\s+to\s+where\s+you\s+are)\b/,
                /\b(your|his)\s+(beginnings|origin\s+story)\b/
            ];

            const journeyRequired = null;
            const journeyExcluded = ['when', 'age', 'born', 'birth', 'old'];
            
            if (matchesAny(journeyPatterns, journeyRequired, journeyExcluded)) {
                return portfolioData.journey;
            }

            // About Niyaaz - More comprehensive patterns
            const aboutPatterns = [
                'tell me about niyaaz', 'who is niyaaz', 'about him', 'describe niyaaz',
                'who are you', 'who exactly is niyaaz', 'can you explain who niyaaz is',
                'what is niyaaz about', 'information about niyaaz', 'brief about niyaaz',
                'profile of niyaaz', 'identity of niyaaz', 'details about niyaaz',
                'niyaaz bio', 'introduction to niyaaz', 'about yourself', 'introduce yourself',
                'who am i talking to', 'basic info', 'general info',
                /\b(tell|give)\s+me\s+(about|info\s+about|information\s+about)\s+niyaaz\b/,
                /\bwho\s+(is|are)\s+(niyaaz|you)\b/,
                /\b(describe|explain|introduce)\s+(niyaaz|yourself)\b/,
                /\bwhat\s+(can\s+you\s+tell\s+me\s+about|do\s+you\s+know\s+about)\s+niyaaz\b/
            ];

            if (matchesAny(aboutPatterns)) {
                return portfolioData.about;
            }

            // Full Name - Enhanced patterns
            const fullNamePatterns = [
                'full name', 'complete name', 'what is your full name', 'entire name',
                'name in full', 'legal name', 'real name', "what's his full name",
                'give full name', 'actual name', 'proper name', 'birth name',
                /\bwhat\s+(is|are)\s+(your|his)\s+(full|complete|real|actual)\s+name\b/,
                /\b(full|complete|entire)\s+name\b/,
                /\bwhat\s+(do\s+they\s+call|should\s+i\s+call)\s+(you|him)\b/
            ];

            if (matchesAny(fullNamePatterns)) {
                return "His full name is Mogamat Niyaaz Anthony.";
            }

            // Contact Information - More comprehensive
            const contactPatterns = [
                'contact', 'email', 'phone', 'number', 'reach', 'how can i contact you',
                'how to reach you', 'get in touch', 'connect with you', 'your contact info',
                'ways to contact', 'email address', 'phone number', 'how to message',
                'how to reach niyaaz', 'how to get hold of', 'contact details',
                'contact information', 'how to call', 'telephone', 'mobile', 'cell',
                'whatsapp', 'social media', 'linkedin', 'communication', 'correspondence','personal info',
                /\bhow\s+(can|do)\s+i\s+(contact|reach|get\s+in\s+touch\s+with)\b/,
                /\bwhat\s+(is|are)\s+(your|his)\s+(email|phone|number|contact)\b/,
                /\b(email|phone)\s+(address|number)\b/,
                /\bways\s+to\s+(contact|reach|communicate)\b/
            ];

            if (matchesAny(contactPatterns)) {
                return portfolioData.contact;
            }

            // Location - Enhanced geographical patterns with precise context validation
            const locationPatterns = [
                'location', 'located', 'based in', 'living in', 'residence',
                'hometown', 'city', 'country', 'place', 'geographic location',
                /\bwhere\s+(are|is)\s+(you|he|niyaaz)\s+(from|located|based|living)\b/,
                /\bwhat\s+(city|country|place|location)\s+(are|is)\s+(you|he)\s+(from|in)\b/,
                /\bwhere\s+(do|does)\s+(you|he)\s+(live|stay|reside)\b/,
                /\b(current|home)\s+(location|address|city)\b/,
                /\bwhere\s+(do|does)\s+(you|he)\s+come\s+from\b/
            ];

            const locationRequired = ['where', 'location', 'city', 'country', 'from', 'live', 'based', 'located'];
            const locationExcluded = ['when', 'why', 'how', 'born', 'birth', 'age', 'old', 'time'];
            
            if (matchesAny(locationPatterns, locationRequired, locationExcluded)) {
                return portfolioData.location;
            }

            // Education - Comprehensive academic patterns with context validation
            const educationPatterns = [
                'education', 'degree', 'university', 'study', 'qualification',
                'academic background', 'educational path', 'schooling', 'academic journey',
                'college', 'school', 'academic', 'diploma', 'bachelor', 'master',
                /\bwhat\s+(did|do|does)\s+(you|he)\s+study\b/,
                /\bwhere\s+(did|do|does)\s+(you|he)\s+(study|go\s+to\s+school)\b/,
                /\bwhat\s+(is|was)\s+(your|his)\s+(education|degree|qualification)\b/,
                /\b(educational|academic)\s+(background|history|experience)\b/,
                /\btell\s+me\s+about\s+(your|his)\s+(education|studies|schooling)\b/
            ];

            const educationRequired = ['education', 'study', 'school', 'university', 'degree', 'academic'];
            const educationExcluded = ['when', 'why', 'age', 'born', 'old'];
            
            if (matchesAny(educationPatterns, educationRequired, educationExcluded)) {
                return portfolioData.education;
            }

            // Certificates - Enhanced certification patterns with context validation
            const certificatePatterns = [
                'certificate', 'certification', 'course', 'training', 'credentials',
                'licenses', 'accreditation', 'professional certifications', 'workshops',
                /\bwhat\s+(courses|certifications|certificates)\s+(have|has)\s+(you|he)\s+(done|completed|obtained)\b/,
                /\b(any|what|which)\s+(training|workshops|courses|certifications)\b/,
                /\bcertified\s+in\b/,
                /\bprofessional\s+(certifications|credentials)\b/,
                /\btell\s+me\s+about\s+(your|his)\s+(certificates|certifications|training)\b/
            ];

            const certificateRequired = ['certificate', 'certification', 'course', 'training', 'credential'];
            const certificateExcluded = ['when', 'why', 'how old', 'born', 'birth', 'age'];
            
            if (matchesAny(certificatePatterns, certificateRequired, certificateExcluded)) {
                return portfolioData.certificates;
            }

            // Skills - Comprehensive technical and soft skills with context validation
            const skillPatterns = [
                'skill', 'programming', 'technology', 'language', 'tool', 'abilities',
                'expertise', 'technical expertise', 'coding skills', 'capabilities',
                'tech stack', 'technical background', 'competencies', 'frameworks',
                /\bwhat\s+(skills|technologies|languages|tools)\s+(do|does)\s+(you|he)\s+(have|know|use)\b/,
                /\bwhat\s+(are|is)\s+(you|he)\s+good\s+at\b/,
                /\b(technical|programming|coding)\s+(skills|expertise|background)\b/,
                /\bproficient\s+in\b/,
                /\btell\s+me\s+about\s+(your|his)\s+(skills|abilities|expertise)\b/
            ];

            const skillsRequired = ['skill', 'programming', 'technology', 'language', 'tool', 'tech', 'coding'];
            const skillsExcluded = ['when', 'why', 'age', 'born', 'old', 'birth'];
            
            if (matchesAny(skillPatterns, skillsRequired, skillsExcluded)) {
                return portfolioData.skills;
            }

            // Projects - Enhanced project-related patterns with context validation
            const projectPatterns = [
                'project', 'built', 'created', 'developed', 'portfolio', 'apps',
                'software', 'applications', 'websites', 'systems', 'programs',
                /\bwhat\s+(have|has)\s+(you|he)\s+(built|made|created|developed)\b/,
                /\b(show|tell)\s+me\s+(your|his|some)\s+projects\b/,
                /\bportfolio\s+(projects|work|items)\b/,
                /\bthings\s+(you|he)\s+(built|made|created|developed)\b/,
                /\bwork\s+(samples|examples)\b/,
                /\btell\s+me\s+about\s+(your|his)\s+projects\b/
            ];

            const projectsRequired = ['project', 'built', 'created', 'developed', 'made', 'portfolio', 'work'];
            const projectsExcluded = ['when', 'why', 'age', 'born', 'old', 'birth'];
            
            if (matchesAny(projectPatterns, projectsRequired, projectsExcluded)) {
                return portfolioData.projects;
            }

            // CV/Resume - Enhanced resume patterns
            const cvPatterns = [
                'cv', 'resume', 'curriculum vitae', 'download your resume', 'get your cv',
                'see your cv', 'your job cv', 'access resume', 'can i view your cv',
                'resume document', 'submit your cv', 'print your resume', 'copy of your cv',
                'resume file', 'curriculum', 'professional resume', 'job resume',
                'employment document', 'career document', 'professional profile',
                /\b(cv|resume)\s+(download|file|document)\b/,
                /\bcan\s+i\s+(see|view|get|download|access)\s+(your\s+)?(cv|resume)\b/,
                /\bshow\s+me\s+(your\s+)?(cv|resume)\b/
            ];

            if (matchesAny(cvPatterns)) {
                return portfolioData.cv;
            }

            // Summary - Enhanced summary patterns
            const summaryPatterns = [
                'summary', 'everything', 'all about', 'complete', 'overview', 'entire profile',
                'who are you in short', 'summary of your profile', 'brief overview',
                'can you summarize', 'summarize your background', 'entire summary',
                'profile summary', 'short summary', 'complete overview', 'quick summary',
                'brief', 'in a nutshell', 'tldr', 'executive summary', 'snapshot',
                'at a glance', 'comprehensive overview', 'full picture',
                /\b(give|tell)\s+me\s+(a\s+)?(summary|overview|brief)\b/,
                /\bsummarize\s+(everything|your\s+(background|profile|experience))\b/,
                /\bin\s+(short|brief|summary)\b/,
                /\bquick\s+(overview|summary|brief)\b/
            ];

            if (matchesAny(summaryPatterns)) {
                return portfolioData.summary;
            }

            // Greetings - Enhanced greeting patterns
            const greetingPatterns = [
                /\b(hello|hi|hey|howdy|hiya|greetings|sup|yo)\b/,
                /^(good\s+(morning|afternoon|evening|day))$/,
                'hello there', 'hey there', "what's up", 'whats up', 'ola', 'hola',
                'salaam', 'namaste', 'bonjour', 'guten tag', 'konnichiwa',
                /\bhey\s+(there|you)\b/,
                /\bwhat\'?s\s+up\b/
            ];

            if (matchesAny(greetingPatterns)) {
                return "Hello! I'm here to help you learn about Mogamat Niyaaz Anthony's portfolio. Feel free to ask about his education, skills, projects, certifications, work experience, or his journey in the tech industry!";
            }

            // Thank You - Enhanced gratitude patterns
            const thankYouPatterns = [
                'thank', 'thanks', 'thank you', 'many thanks', 'appreciate it',
                'thanks a lot', 'grateful', 'thanks so much', 'thank you very much',
                'cheers', 'much appreciated', 'thanks heaps', 'thx', 'ty',
                'appreciate', 'appreciated', 'gratitude', 'obliged',
                /\bthank\s+(you|u)\b/,
                /\bthanks?\s+(a\s+lot|so\s+much|very\s+much|heaps)\b/,
                /\bmuch\s+appreciated\b/,
                /\bi\s+appreciate\s+(it|this|that)\b/
            ];

            if (matchesAny(thankYouPatterns)) {
                return "You're welcome! If you have any more questions about Niyaaz's portfolio, feel free to ask. For detailed discussions or opportunities, please contact him directly.";
            }

            // Closing - Enhanced farewell patterns
            const closingPatterns = [
                /\b(bye|goodbye|farewell|peace|later)\b/,
                /\bsee\s+(you|ya)\b/,
                /\btalk\s+to\s+you\s+later\b/,
                /\bcatch\s+you\s+later\b/,
                /\btake\s+care\b/,
                /\bhave\s+a\s+(good|great|nice)\s+(day|time|one)\b/,
                /\buntil\s+(next\s+time|later)\b/,
                /\bgood\s+(night|evening)\b/,
                'ciao', 'au revoir', 'auf wiedersehen', 'sayonara', 'adios'
            ];

            if (matchesAny(closingPatterns)) {
                return "Goodbye! Thanks for exploring Mogamat Niyaaz Anthony's portfolio. Have a great day!";
            }

            // Help/Menu - New category for users asking for help
            const helpPatterns = [
                'help', 'menu', 'options', 'what can you do', 'what can i ask',
                'available commands', 'list of topics', 'what topics', 'guide',
                'instructions', 'how to use', 'what questions can i ask',
                /\bwhat\s+(can\s+i\s+ask|topics\s+are\s+available)\b/,
                /\bshow\s+me\s+(options|menu|help)\b/,
                /\blist\s+(of\s+)?(topics|options|commands)\b/
            ];

            if (matchesAny(helpPatterns)) {
                return "I can help you learn about Mogamat Niyaaz Anthony's portfolio! You can ask about:\n\n• Personal Information (name, location, contact details)\n• Education & Qualifications\n• Skills & Technical Expertise\n• Work Experience & Career\n• Projects & Portfolio\n• Certifications & Training\n• Professional Journey & Story\n• CV/Resume\n• Complete Summary\n\nFeel free to ask in your own words - I'll understand!";
            }

            // Enhanced fallback with better error handling
            try {
                // Check for partial matches that might indicate intent
                const partialMatches = [
                    { keywords: ['niyaaz', 'name'], suggestion: 'Try asking "What is Niyaaz\'s full name?" or "Tell me about Niyaaz"' },
                    { keywords: ['work', 'job'], suggestion: 'Try asking "What is Niyaaz\'s work experience?" or "Where has he worked?"' },
                    { keywords: ['skill', 'tech'], suggestion: 'Try asking "What are Niyaaz\'s skills?" or "What technologies does he know?"' },
                    { keywords: ['project', 'built'], suggestion: 'Try asking "What projects has Niyaaz built?" or "Show me his portfolio"' },
                    { keywords: ['education', 'study'], suggestion: 'Try asking "What is Niyaaz\'s education?" or "Where did he study?"' },
                    { keywords: ['contact', 'email'], suggestion: 'Try asking "How can I contact Niyaaz?" or "What is his email?"' }
                ];

                for (const match of partialMatches) {
                    if (match.keywords.some(keyword => message.includes(keyword))) {
                        return `I think you're asking about ${match.keywords[0]}-related information. ${match.suggestion}`;
                    }
                }

                return "I'd love to help you learn about Mogamat Niyaaz Anthony's portfolio! You can ask about his education, skills, projects, work experience, certifications, personal information, or professional journey. If you need specific help, try asking 'help' or 'menu' to see available topics. For direct contact, reach him at niyaaz2001@gmail.com or 0794447897.";

            } catch (error) {
                console.error("Error in getBotResponse:", error);
                return "Oops! Something went wrong. Please try rephrasing your question about Niyaaz's portfolio.";
            }
        }

        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            questionCount++;
            askedQuestions.add(message.toLowerCase());

            addMessage(message, true);
            chatStats.messageCount++;
            userInput.value = '';
            
            showTyping();
            
            setTimeout(() => {
                removeTyping();
                const response = getBotResponse(message);
                addMessage(response);

                updateSuggestions();
            }, 1000);
        }

        function sendSuggestion(suggestion) {
            askedQuestions.add(suggestion.toLowerCase());
            userInput.value = suggestion;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Focus on input when page loads
        window.onload = function() {
            userInput.focus();
        };

        // Conversation context
        let conversationContext = {
            lastTopic: null,
            askedTopics: new Set(),
            userInterests: []
        };

        function updateContext(topic, userMessage) {
            conversationContext.lastTopic = topic;
            conversationContext.askedTopics.add(topic);
            
            // Track user interests based on keywords
            const interests = ['AI', 'data', 'programming', 'projects', 'skills'];
            interests.forEach(interest => {
                if (userMessage.toLowerCase().includes(interest.toLowerCase())) {
                    if (!conversationContext.userInterests.includes(interest)) {
                        conversationContext.userInterests.push(interest);
                    }
                }
            });
        }

        function getContextualResponse(baseResponse, topic) {
            let contextualAddition = "";
            
            if (conversationContext.userInterests.includes('AI') && topic === 'skills') {
                contextualAddition = "\n\nI notice you're interested in AI! Niyaaz has several AI certifications and is currently focusing on Data Analytics with AI applications.";
            } else if (conversationContext.userInterests.includes('projects') && topic === 'education') {
                contextualAddition = "\n\nSince you're interested in projects, you should know that his Computer Science education provided the foundation for his current AI Portfolio Chatbot project!";
            }
            
            return baseResponse + contextualAddition;
        }
    </script>
</body>
</html>